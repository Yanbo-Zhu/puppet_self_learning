

package 是用來管理套件的 resource，像是 apt / yum，也支援 rpm / dpkg 這類型的工具，針對不同的平台有各自的 provider。

# 1 属性

ensure：installed, present, latest, absent, any version string (implies present)
name：包名；
source：程序包来源，仅对不会自动下载相关程序包的provider有用，例如rpm或dpkg；
provider:指明安装方式；
platform：平台（X86_63…..）


ensure: 
Installed: 想要去安装上
Absent: 要去卸载这个软件 
latest : You can use ensure => latest to always get the latest available version, but it’s generally considered best practice to specify a specific version so that your packages aren’t being automatically updated whenever the source version changes.


Source
使用 forward slashes in 路径 
It’s generally best practice to use forward slashes in paths as shown here because it’s easy with a backslash to accidentally end up escaping a character by mistake. Another option is to use double quoted strings and then double each of the back slashes.


# 2 例子


1
同时安装多个
卸载一个 

![[06_01_Syntax_And_Settings_Puppet_Language/06_01_Resource/06_01_01_Resource_type/images/Pasted image 20240411132316.png]]

![[06_01_Syntax_And_Settings_Puppet_Language/06_01_Resource/06_01_01_Resource_type/images/Pasted image 20240411132321.png]]


2
安裝 apache2 
最簡單的安裝 apache2 方式：

package { 'apache2':
  ensure => installed,
}
等同於 apt-get install apache2。

3
或是想要安裝特別版本的話可以用 ensure 來指定版本：



```


package { 'apache2': 
  ensure => '2.4.18-2ubuntu3.5',
}
等同於 apt-get install apache2=2.4.18-2ubuntu3.5

package { 'Atom':
  ensure   => installed,
  source   => 'C:/Installers/AtomSetup-x64.exe',
}
```



4

Install a provider 

Install the Chocolatey Package provider 


![[06_01_Syntax_And_Settings_Puppet_Language/06_01_Resource/06_01_01_Resource_type/images/Pasted image 20240411132425.png]]

![[06_01_Syntax_And_Settings_Puppet_Language/06_01_Resource/06_01_01_Resource_type/images/Pasted image 20240411132440.png]]

```
vim package1.pp
	package{'nginx':
   		ensure  => installed,
    	procider    =>  yum
}
```


