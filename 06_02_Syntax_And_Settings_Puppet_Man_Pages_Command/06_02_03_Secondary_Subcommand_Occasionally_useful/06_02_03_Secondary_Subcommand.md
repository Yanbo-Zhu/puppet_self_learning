
Many or most users need to use these subcommands at some point, but they aren't needed for daily use the way the core tools are.

- [puppet config](https://www.puppet.com/docs/puppet/8/man/config)
    
- [puppet describe](https://www.puppet.com/docs/puppet/8/man/describe)
    
- [puppet device](https://www.puppet.com/docs/puppet/8/man/device)
    
- [puppet doc](https://www.puppet.com/docs/puppet/8/man/doc)
    
- [puppet epp](https://www.puppet.com/docs/puppet/8/man/epp)
    
- [puppet generate](https://www.puppet.com/docs/puppet/8/man/generate)
    
- [puppet help](https://www.puppet.com/docs/puppet/8/man/help)
    
- [puppet node](https://www.puppet.com/docs/puppet/8/man/node)
    
- [puppet parser](https://www.puppet.com/docs/puppet/8/man/parser)
    
- [puppet plugin](https://www.puppet.com/docs/puppet/8/man/plugin)
    
- [puppet script](https://www.puppet.com/docs/puppet/8/man/script)
    
- [puppet ssl](https://www.puppet.com/docs/puppet/8/man/ssl)


# Puppet kick


在 server 端执行 
从 server 端  推送到  client node 中


![[06_02_Syntax_And_Settings_Puppet_Man_Pages_Command/06_02_03_Secondary_Subcommand_Occasionally_useful/images/Pasted image 20240410135256.png]]

![[06_02_Syntax_And_Settings_Puppet_Man_Pages_Command/06_02_03_Secondary_Subcommand_Occasionally_useful/images/Pasted image 20240410135259.png]]

在 server 端， 现在的dir 下， 有个文件 hosts.txt。
要将他复制到 clients node 中 
![[06_02_Syntax_And_Settings_Puppet_Man_Pages_Command/06_02_03_Secondary_Subcommand_Occasionally_useful/images/Pasted image 20240410135306.png]]

# puppet config

## puppet config print

Checking the values of settings

|   |   |
|---|---|
|puppet config print|打印查询所有的|
|puppet config print config|run puppet config print config to output puppet’s configuration file path.|
|puppet config print confdir|查询某一个 setting 的值|
|puppet config print modulepath|run puppet config print modulepath to output the default module directory paths.|


## 其他

|   |   |
|---|---|
|puppet config set <SETTING VALUE> --section <SECTION>|To set configuration settings, run: puppet config set <SETTING VALUE> --section <SECTION>|
|||


# puppet describe
puppet describe  资源类型

Prints help about Puppet resource types, providers, andmetaparameters.
Puppet has a built-in tool to help you discover all of the different attributes associated with a resource called Describe. 

用法：puppet describe [-h|--help] [-s|--short] [-p|--providers] [-l|--list] [-m|--meta][type]
-l：列出所有资源类型；
-s：显示指定类型的简要帮助信息；
-m：显示指定类型的元参数，一般与-s一同使用；    

```
puppet describe -s<TYPE>：列出指定资源的简要说明；
puppet describe<TYPE>：显示指定资源的详细说明；

```

## example

|                         |                                                                                                                            |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------- |
| puppet describe -l      | 列出所有信息                                                                                                                     |
| puppet describe service | Returns a description of the service resource and a complete list of all the attributes and their associated valid values. |
| puppet describe group   |                                                                                                                            |

# Puppet epp


https://www.puppet.com/docs/puppet/8/man/epp

## NAME

**puppet-epp** - Interact directly with the EPP template parser/renderer.

## SYNOPSIS

puppet epp _action_

## OPTIONS

Note that any setting that's valid in the configuration file is also a valid long argument, although it may or may not be relevant to the present action. For example, **server** and **run_mode** are valid settings, so you can specify `**--server <servername>**,` or `**--run_mode <runmode>**` as an argument.

See the configuration file documentation at _https://puppet.com/docs/puppet/latest/configuration.html_ for the full list of acceptable parameters. A commented list of all configuration options can also be generated by running puppet with **--genconfig**.

--render-as FORMAT
The format in which to render output. The most common formats are **json**, **s** (string), **yaml**, and **console**, but other options such as **dot** are sometimes available.

--verbose
Whether to log verbosely.

--debug
Whether to log debug information.


## puppet epp dump 

**dump** - Outputs a dump of the internal template parse tree for debugging: 


**SYNOPSIS**
`puppet epp dump [--e _source_] [--[no-]validate] [--format _old, pn, or json_] [--pretty] [--[no-]header] [--format _old|pn|json_] [--pretty] { -e _source_ | [_templates_ ...] }`


## puppet epp render 命令 


render - Renders an epp template as text:

|          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| SYNOPSIS | puppet epp render [--node node_name] [--e source] [--values values_hash] [--values_file pp_or_yaml_file] [--facts facts_file] [--[no-]header] -e source \| [templates ...]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| OPTIONS  | --render-as FORMAT             - The rendering format to use.<br><br>  --verbose                      - Whether to log verbosely.<br><br>  --debug                        - Whether to log debug information.<br><br>--e <source> - Render one inline epp template given on the command line.<br><br>--facts <facts_file> - A .yaml or .json file containing a hash of facts made available in $facts and $trusted<br><br>--[no-]header - Whether or not to show a file name header between rendered results.<br><br>--node <node_name> - The name of the node for which facts are obtained. Defaults to facts for the local node.<br><br>--values <values_hash> - A Hash in Puppet DSL form given as arguments to the template being rendered.<br><br>--values_file <pp_or_yaml_file> - A .pp or .yaml file that is processed to produce a hash of values for the template. |
| RETURNS  | A rendered result of one or more given templates.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

### DESCRIPTION

|                                                           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| --------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|                                                           | This action renders one or more EPP templates.<br><br>The command accepts one or more templates (.epp files), given the same way as templates are given to the puppet epp function (a full path, or a relative reference on the form 'modulename/template-name.epp'), or as a relative path.args In case the given path matches both a modulename/template and a file, the template from the module is used.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| -e                                                        | An inline_epp equivalent can also be performed by giving the template after an -e, or by piping the EPP source text to the command.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --values<br><br> --values_file<br><br> --strict_variables | Values to the template can be defined using the Puppet Language on the command line with --values or in a .pp or .yaml file referenced with --values_file. If specifying both the result is merged with --values having higher precedence.<br><br>The --values option allows a Puppet Language sequence of expressions to be defined on the command line the same way as it may be given in a .pp file referenced with --values_file. It may set variable values (that become available in the template), and must produce either undef or a Hash of values (the hash may be empty). Producing undef simulates that the template is called without an arguments hash and thus only references variables in its outer scope. When a hash is given, a template is limited to seeing only the global scope. It is thus possible to simulate the different types of calls to the epp and inline_epp functions, with or without a given hash. Note that if variables are given, they are always available in this simulation - to test that the template only references variables given as arguments, produce a hash in --values or the --values_file, do not specify any variables that are not global, and turn on --strict_variables setting.<br><br>If multiple templates are given, the same set of values are given to each template. If both --values and --value_file are used, the --values are merged on top of those given in the file. |
| --no-header.                                              | When multiple templates are rendered, a separating header is output between the templates showing the name of the template before the output. The header output can be turned off with --no-header. This also concatenates the template results without any added newline separators.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| --node <nodename>                                         | Facts from the node where the command is being run are used by default.args Facts can be obtained for other nodes if they have called in, and reported their facts by using the --node <nodename> flag.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| --facts                                                   | Overriding node facts as well as additional facts can be given in a .yaml or .json file and referencing it with the --facts option. (Values can be obtained in yaml format directly from facter, or from puppet for a given node). Note that it is not possible to simulate the reserved variable name $facts in any other way.<br><br>Note that it is not possible to set variables using the Puppet Language that have the same names as facts as this result in an error; "attempt to redefine a variable" since facts are set first.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Exits  value                                              | Exits with 0 if there were no validation errors. On errors, no rendered output is produced for that template file.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                                                           | When designing EPP templates, it is strongly recommended to define all template arguments in the template, and to give them in a hash when calling epp or inline_epp and to use as few global variables as possible, preferably only the $facts hash. This makes templates more free standing and are easier to reuse, and to test.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

### Example 

Render the template in module 'mymodule' called 'mytemplate.epp', and give it two arguments **a** and **b**:

```
$ puppet epp render mymodule/mytemplate.epp --values '{a => 10, b => 20}'
```

Render a template using an absolute path:

```
$ puppet epp render /tmp/testing/mytemplate.epp --values '{a => 10, b => 20}'
```

Render a template with data from a .pp file:

```
$ puppet epp render /tmp/testing/mytemplate.epp --values_file mydata.pp
```

Render a template with data from a .pp file and override one value on the command line:

```
$ puppet epp render /tmp/testing/mytemplate.epp --values_file mydata.pp --values '{a=>10}'
```

Render from STDIN:

```
$ cat template.epp | puppet epp render --values '{a => 10, b => 20}'
```

Set variables in a .pp file and render a template that uses variable references:

```
## data.pp file    $greeted = 'a global var'
undef

$ puppet epp render -e 'hello <%= $greeted %>' --values_file data.pp
```

Render a template that outputs a fact:

```
$ facter --yaml > data.yaml
$ puppet epp render -e '<% $facts[osfamily] %>' --facts data.yaml
```


## puppet epp validate 命令 


SYNOPSIS
`puppet epp validate [--[no-]continue_on_error] [template] [template ...]`


Options 
 --render-as FORMAT             - The rendering format to use.
  --verbose                      - Whether to log verbosely.
  --debug                        - Whether to log debug information.
  `--[no-]continue_on_error  `     - Whether or not to continue after errors are  reported for a template.



DESCRIPTION
This action validates EPP syntax without producing any output.
When validating, multiple issues per file are reported up to the settings of max_error, and max_warnings. The processing stops after having reported issues for the first encountered file with errors unless the option --continue_on_error is given.



`<TEMPLATE NAME> 的给入 
Files can be given using the modulename/template.epp style to lookup the template from a module, or be given as a reference to a file. 

If the reference to a file can be resolved against a template in a module, the module version wins - in this case use an absolute path to reference the template file if the module version is not wanted.


Exits  value 
Exits with 0 if there were no validation errors.


OPTIONS 
`--[no-]continue_on_error` - Whether or not to continue after errors are reported for a template.


Returns
Nothing, or encountered syntax errors.


### Example: 

Validate the template 'template.epp' in module 'mymodule':

```
$ puppet epp validate mymodule/template.epp
```

Validate two arbitrary template files:

```
$ puppet epp validate mymodule/template1.epp yourmodule/something.epp
```

Validate a template somewhere in the file system:

```
  $ puppet epp validate /tmp/testing/template1.epp
```

Validate a template against a file relative to the current directory:

```
 $ puppet epp validate template1.epp
 $ puppet epp validate ./template1.epp
```

Validate from STDIN:

```
$ cat template.epp | puppet epp validate
```

Continue on error to see errors for all templates:

```
$ puppet epp validate mymodule/template1.epp mymodule/template2.epp --continue_on_error
```


